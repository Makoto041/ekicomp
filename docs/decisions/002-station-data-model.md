# ADR-002: 同名駅のデータモデル

## ステータス
承認済み

## 日付
2026-02-14

## コンテキスト
渋谷駅のように複数路線が乗り入れる駅の扱いを決める必要がある。
選択肢は2つ：
1. 路線ごとに別レコード（JR渋谷、メトロ渋谷、東急渋谷...）
2. 1つの駅レコード + 中間テーブルで路線と紐づけ

## 決定
**選択肢2: 1駅1レコード + line_stations中間テーブル**を採用する。

## 理由
- ユーザーの感覚として「渋谷に行った」は1回。路線ごとに別カウントは直感に反する
- 地図上のピンも1つで済む
- 進捗計算がシンプル（全体の駅数 = stationsテーブルのレコード数）
- 路線別の進捗はline_stations経由で計算可能

## トレードオフ
- 「山手線の渋谷」と「銀座線の渋谷」を区別したいユースケースには対応しづらい
- 将来、路線別に個別チェックインしたくなった場合はcheckins側にline_idを追加する必要がある

## 結果
Phase 1ではシンプルな1駅1レコード方式で進める。ユーザーフィードバックを見て必要なら再検討する。
